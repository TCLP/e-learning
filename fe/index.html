<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="./style.css" />
    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <title>在线教学</title>

    <script type="text/javascript">
    　　 function islogin()
    　　 {

           var result_username = "guest";
           var result_flag = false;
     　    $.ajax({
              type:"POST",
              url:"http://localhost:8081/api/islogin",
              beforeSend: function(request) {
                  request.setRequestHeader("Authorization", "JWT eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZGVudGl0eSI6MSwibmJmIjoxNTUyNzQ3Nzg3LCJleHAiOjE1NTI3NzY1ODcsImlhdCI6MTU1Mjc0Nzc4N30.0sJbtLQIzRWtB0Wm4ZPQSIooGyWSFE_JrxsbR9p2UUw");
              },
              success:function (data) {
                  result_username = data['data'];
                  result_flag = true;
                  alert(result_username+result_flag);
              },
              error:function (e) {
                  alert("500");
              }
          });

          //访问接口获得用户名
          new Vue({
              el:"#islogin_span_id",
              data:{
                  flag:result_flag,
                  username:result_username,
              },
          });
    　　}
    　　window.onload = islogin;
    </script>
</head>

<body>
	<div class="tborder" id="tborder_id">
		<table width="100%" cellpadding="0" cellspacing="0" border="0" id="smfheader">
            <tbody>
                <tr>
                    <td class="catbg" height="32">
                        <span style="font-family: Verdana, sans-serif; font-size: 140%; ">在线教学</span>
                    </td>
                    <td align="right" class="catbg">
                        <img src="./img/smflogo.gif" style="margin: 2px;" alt="" />
                    </td>
                </tr>
            </tbody>
		</table>
		<table width="100%" cellpadding="0" cellspacing="0" border="0" >
			<tr>
				<td class="titlebg2" height="32" align="right">
					<span class="smalltext" id="id_smalltest">{{ date_now }}</span>
                    <script>
                        new Vue({
                            el:'#id_smalltest',
                            data:{
                                date_now:new Date()
                            }
                        });
                    </script>
				</td>
			</tr>
			<tr id="upshrinkHeader">
				<td valign="top" colspan="2">
					<table width="100%" class="bordercolor" cellpadding="8" cellspacing="1" border="0" style="margin-top: 1px;">
						<tr>
							<td colspan="2" width="100%" valign="top" class="windowbg2" id="variousheadlinks">
                                <span id ="islogin_span_id">
                                    <span v-if="flag==false">
                                        欢迎,
                                        <b>游客</b>
                                        . 请
                                        <a href="https://bitcointalk.org/index.php?action=login">登录</a>
                                        或
                                        <a href="https://bitcointalk.org/index.php?action=register">注册</a>
                                        .
                                    </span>
                                    <span v-else>
                                        欢迎,
                                        <b>{{ username }}</b>
                                        .
                                    </span>
                                </span>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</table>
		<table id="upshrinkHeader2" width="100%" cellpadding="4" cellspacing="0" border="0">
			<tr>
				<td width="90%" class="titlebg2">
					<span class="smalltext">
                        <b>消息:</b>
                        没有新消息!!!
                    </span>
				</td>
			</tr>
		</table>
	</div>

    <table cellpadding="0" cellspacing="0" border="0" style="margin-left: 10px;">
        <tbody>
            <tr>
                <td class="maintab_first">&nbsp;</td>
                <td class="maintab_active_first">&nbsp;</td>
				<td valign="top" class="maintab_active_back">
					<a href="https://bitcointalk.org/index.php">主页</a>
				</td><td class="maintab_active_last">&nbsp;</td>
				<td valign="top" class="maintab_back">
					<a href="https://bitcointalk.org/index.php?action=help">课程</a>
				</td>
				<td valign="top" class="maintab_back">
					<a href="https://bitcointalk.org/index.php?action=search">学习</a>
				</td>
				<td valign="top" class="maintab_back">
					<a href="https://bitcointalk.org/index.php?action=login">交流</a>
				</td>
				<td valign="top" class="maintab_back">
					<a href="https://bitcointalk.org/index.php?action=register">帮助</a>
				</td>
				<td class="maintab_last">&nbsp;</td>
			</tr>
		</tbody>
    </table>
    <!--
    -->
    <div id="bodyarea" style="padding: 1ex 0px 2ex 0px;">
        bodyarea
        <script language="JavaScript1.2" type="text/javascript">
//<![CDATA[
            var currentSort = false;
            function sortLastPost()
            {
                document.getElementById("sort-arrow").src = smf_images_url + "/" + (currentSort ? "sort_down.gif" : "sort_up.gif");
                document.getElementById("sort-arrow").alt = "";
                currentSort = !currentSort;
            }
            function markMessageRead()
            {
                document.getElementById("message-new-or-not").style.display = "none";
            }
//]]>
        </script>
    </div>

    <div id="helpmenu2" class="titlebg" style="padding: 4px;"><span class="error" style="font-weight: bold;">Introduction</span>
        •
        <a href="https://bitcointalk.org/index.php?action=help;page=registering">Registering</a>
        •
        <a href="https://bitcointalk.org/index.php?action=help;page=loginout">Logging In</a>
        •
        <a href="https://bitcointalk.org/index.php?action=help;page=profile">Profile</a>
        •
        <a href="https://bitcointalk.org/index.php?action=help;page=post">Posting</a>
        •
        <a href="https://bitcointalk.org/index.php?action=help;page=pm">Personal Message</a>
        •
        <a href="https://bitcointalk.org/index.php?action=help;page=searching">Searching</a>
    </div>
</body>


</html>